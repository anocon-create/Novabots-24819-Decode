package org.firstinspires.ftc.teamcode;

import com.qualcomm.robotcore.eventloop.opmode.TeleOp;
import com.qualcomm.robotcore.eventloop.opmode.OpMode;
import com.qualcomm.robotcore.hardware.Servo;
@TeleOp(name="PushPin", group="Examples")


private boolean yWasPressed = false;
private double savedPosition = 0.5;

@Override
public void init() {
    servo = hardwareMap.get(Servo.class, "servo");
    savedPosition = servo.getPosition(); // initial saved position
    servo.setPosition(savedPosition);
}

@Override
public void loop() {
    // Restore-on-release behavior
    if (gamepad2.y) {
        if (!yWasPressed) {
            savedPosition = servo.getPosition(); // remember current pos
            servo.setPosition(1.0);              // move to target
            yWasPressed = true;
        }
    } else {
        if (yWasPressed) {
            servo.setPosition(savedPosition);   // restore when released
            yWasPressed = false;
        }
    }

    // Alternative: timed reset (uncomment to use)
    /*
    if (gamepad2.y) {
        servo.setPosition(1.0);
        resetUntil = System.currentTimeMillis() + 500; // ms
    }
    if (resetUntil > 0 && System.currentTimeMillis() > resetUntil) {
        servo.setPosition(savedPosition);
        resetUntil = 0;
    }
    */
}
